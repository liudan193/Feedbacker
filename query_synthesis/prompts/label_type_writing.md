You are tasked with categorizing a given query into multiple tags based on the following hierarchical classification system. 

### Classification System:
```markdown
The first level of the following classification system is the basis for classification, the second level is specific categories, and the third level is more specific subcategories.

Classification Basis 1: Creative Stages
1. "Conceptualization Stage": "Research", "Brainstorming", "Outline Construction", "Character Development", "World Building", "Literature Review", "Scenario Analysis", "Material Collection", "Creative Exploration", "Content Conceptualization", "Terminology Analysis", "Problem Solving"
2. "Writing Stage"
   - "Dialogue-related"  
   - "Concept Analysis"  
   - "Data Processing"  
   - "Draft Writing"  
   - "Case Study"  
   - "Citation Integration"  
   - "Example Generation"  
   - "Prompt Development"  
   - "Analogical Creation"  
   - "Title Design"  
   - "Tag Design"  
   - "Argument Construction"  
   - "Rhetorical Use": "Pun", "Metaphor", "Simile", "Parallelism"
3. "Optimization Stage": "Unit Conversion", "Content Rewriting", "Multilingual and Translation", "Fact-checking", "Proofreading", "Localization", "Vocabulary Optimization", "Grammar Check", "Text Optimization"
4. "Post-processing Stage": "Text Summarization", "Text Analysis", "Bias Analysis", "Text Interpretation", "Entity Extraction", "Content Classification", "Evaluation and Feedback"

Classification Basis 2: Writing Domains
1. "Professional Writing"
   - "Linguistics"  
   - "Academic"  
   - "History"  
   - "Music": "Songwriting", "Music-related Analysis", "Music-related Reviews"  
   - "Art"  
   - "Technology"  
   - "Medicine"  
   - "Psychology"  
   - "Education"  
   - "Business"  
   - "Reports"  
   - "Culture"  
   - "Law"  
   - "Finance"  
   - "Natural Sciences"  
   - "Sports"  
   - "Politics"  
   - "Design Writing"  
2. "Everyday Writing"  
   - "Entertainment": "Horoscopes", "Tongue Twisters", "Jokes", "Travel"
   - "Gaming": "Video Games", "Puzzle Solving", "Game Design", "Game Localization"
   - "Society"  
   - "Shopping"  
   - "Food"  
   - "Sports"  
   - "Health"  
   - "Family"  
   - "Pets"  
   - "Teaching"  
   - "Interpersonal Communication"  
   - "Emotions"  
   - "Exams"  
   - "Idiomatic Expressions"  
   - "Personal Leisure Writing"  
   - "Personal Reflection"  
3. "Literary Writing"
   - "Philosophy"  
   - "Literature"  
   - "Inspirational"  
   - "Descriptive Writing"  
   - "Literary Studies"  
   - "Scriptwriting"  
   - "Drama"  
   - "Prose"  
   - "Poetry"  
   - "Fiction": "Erotic Fiction", "Synopsis Creation", "Story Creation", "Fantasy", "Mystery", "Fan Fiction", "Adventure Writing", "Historical Fiction"
   - "Proverbial Expressions"  
   - "Parody Creation"  
   - "Biography Writing"  
   - "Quotation Creation"  
   - "Literary Analysis"  
   - "Narrative Writing"  
4. "Functional Writing" 
   - "Teaching": "Vocabulary Practice", "Lesson Planning", "Grammar", "Language Learning", "Tutorial Creation"
   - "Official Document Writing"
     - "Professional Application Writing": "Scholarship", "MBA Application", "Immigration Application", "Proposal Writing"
     - "Financial Documents"
     - "Email"
     - "Complaint Letter Writing"  
     - "Contract/Agreement Drafting"  
   - "Speech Writing"  
   - "User Manuals"  
   - "Project Planning"  
   - "Resume Writing"  
   - "Meeting Minutes"  
   - "Argumentative Writing"  
   - "Recommendation Letters"  
   - "Formal Communication"  
   - "Instructional Descriptive Writing"  
   - "Email Writing"  
   - "Greeting Card Writing"  
   - "Structured Response Writing"  
   - "Project Documentation"  
   - "Report Writing"  
   - "Informative Writing"  
   - "Naming or Branding"  
   - "Note Writing"  
   - "Professional Planning"  
   - "Workplace Writing"  
5. "Media Writing": "Review Writing", "Blog Posts", "Advertising and Marketing", "Web Content", "Copywriting", "News Reporting", "Social Media", "Video Scripts"
6. "Creative Writing": "Humorous Writing", "Scenario Writing", "Symbolic Story Creation", "Creative Fragment Writing", "Experimental Writing", "Visual Arts", "Fan Creation"

Classification Basis 3: Styles
1. "Classicism"  
2. "Romanticism"  
3. "Realism"  
4. "Modernism"  
5. "Postmodernism"  
6. "Humorous"  
7. "Satirical"  
8. "Tragic"  
9. "Comedic"  
10. "Concise"  
11. "Rigorous"  
12. "Formal"  
13. "Serious"  
14. "Light-hearted"  
15. "Natural"  
16. "Exaggerated"  
17. "Plain"  
18. "Melancholic"  
19. "Detailed Descriptive"  
20. "Reddit Style"  
21. "Steampunk"
```

### Rules for Tagging:
1. **Hierarchy Rule**: If a query matches both a parent node and its child nodes, include both in the tags.
2. **Multiple Matches**: If a query matches multiple nodes at the same level, include all matching nodes.
3. **No Match**: If a query does not match any nodes under the second-level main categories, assign the tag "Other" to that category.
4. **Output Format**: The final output must be enclosed within `<tags>` and `</tags>` tags, and the tags should be provided as a JSON object where the keys are the basis for classification and the values are lists of matching tags.

### Example:
Query: "I need help brainstorming ideas for a fantasy story involving a hidden kingdom and magical creatures."
Output: <tags>{{"Creative Stages": ["Conceptualization Stage", "Brainstorming", "World Building", "Creative Exploration", "Content Conceptualization"], "Writing Domains": ["Literary Writing", "Fiction", "Fantasy", "Story Creation"], "Styles": ["Other"]}}</tags>

### Now, analyze the following query:  
<|begin_of_query|>  
{query}  
<|end_of_query|>